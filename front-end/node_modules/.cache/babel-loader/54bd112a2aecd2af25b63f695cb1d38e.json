{"ast":null,"code":"import _slicedToArray from\"D:/Work Space/Auto-Sell-Bot/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from'react';import{useEthers,useTokenBalance}from\"@usedapp/core\";import Modal from'react-bootstrap/Modal';import{Toast,Form,Row,Col}from'react-bootstrap';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var base_api_url=\"\".concat(window.location.protocol,\"//\").concat(window.location.hostname,\":5000/api\");var BuyModal=function BuyModal(_ref){var isOpen=_ref.isOpen,setIsOpen=_ref.setIsOpen,tokenAddress=_ref.tokenAddress;var unmounted=useRef(true);var _useEthers=useEthers(),account=_useEthers.account;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showToastBuy=_useState2[0],setShowToastBuy=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),toastTextBuy=_useState4[0],setToastTextBuy=_useState4[1];useEffect(function(){return function(){unmounted.current=false;};},[]);var handleClose=function handleClose(){setIsOpen(false);};function handleDelete(){var apiUrl=base_api_url+'/deleteData';var params={walletAddress:account,tokenAddress:tokenAddress};axios.post(apiUrl,params).then(function(response){console.log('msg',response.msg);}).catch(function(error){console.error(error);return false;});setIsOpen(false);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Toast,{onClose:function onClose(){return setShowToastBuy(false);},show:showToastBuy,delay:7000,autohide:true,children:[/*#__PURE__*/_jsxs(Toast.Header,{children:[/*#__PURE__*/_jsx(\"img\",{src:\"holder.js/20x20?text=%20\",className:\"rounded me-2\",alt:\"\"}),/*#__PURE__*/_jsx(\"strong\",{className:\"me-auto\",children:\"Notice\"}),/*#__PURE__*/_jsx(\"small\",{className:\"mr-auto\"})]}),/*#__PURE__*/_jsx(Toast.Body,{children:toastTextBuy})]}),/*#__PURE__*/_jsxs(Modal,{show:isOpen,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Approve\"})}),/*#__PURE__*/_jsxs(Modal.Body,{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"outer bg-black absolute top-0 left-0 h-full w-full z-20 opacity-80\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 left-0 h-full w-full z-30 flex items-center justify-center\",onClick:function onClick(){return handleClose();},children:/*#__PURE__*/_jsx(\"div\",{className:\"inner max-w-screen-sm flex-grow  text-white  bg-gradient-to-br from-yellow-200 to-yellow-700 p-1 opacity-100 rounded-3xl\",onClick:function onClick(e){e.stopPropagation();},children:account&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{\"data-bs-dismiss\":\"modal\",id:\"wallet-connect-metamask\",className:\"c-list border-b px-3 py-2 d-flex align-items-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-white m-auto\",children:\" Are you going to delete this data really?\"})}),/*#__PURE__*/_jsxs(\"div\",{\"data-bs-dismiss\":\"modal\",id:\"wallet-connect-metamask\",className:\"c-list border-b px-3 py-2 d-flex align-items-center cursor-pointer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-wallet wallet-connected m-auto\",onClick:handleDelete,children:\" Yes\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-wallet wallet-connected m-auto\",onClick:handleClose,children:\" No \"})]})]})})})]})]})]});};export default BuyModal;","map":{"version":3,"sources":["D:/Work Space/Auto-Sell-Bot/front-end/src/components/modal/BuyModal.js"],"names":["React","useState","useEffect","useRef","useEthers","useTokenBalance","Modal","Toast","Form","Row","Col","axios","base_api_url","window","location","protocol","hostname","BuyModal","isOpen","setIsOpen","tokenAddress","unmounted","account","showToastBuy","setShowToastBuy","toastTextBuy","setToastTextBuy","current","handleClose","handleDelete","apiUrl","params","walletAddress","post","then","response","console","log","msg","catch","error","e","stopPropagation"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useEthers, useTokenBalance } from \"@usedapp/core\";\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport { Toast, Form, Row, Col } from 'react-bootstrap';\r\nimport axios from 'axios';\r\n\r\nconst base_api_url = `${window.location.protocol}//${window.location.hostname}:5000/api`;\r\n\r\nconst BuyModal = ({ isOpen, setIsOpen, tokenAddress}) => {\r\n    const unmounted = useRef(true);\r\n    const { account } = useEthers();\r\n    const [showToastBuy, setShowToastBuy] = useState(false);\r\n    const [toastTextBuy, setToastTextBuy] = useState('');\r\n\r\n    useEffect( () => {\r\n        return () => { unmounted.current = false }\r\n    }, []);\r\n\r\n    const handleClose = () => {\r\n        setIsOpen(false);\r\n    }\r\n\r\n    function handleDelete() {\r\n        var apiUrl = base_api_url + '/deleteData'\r\n        var params = {\r\n            walletAddress: account,\r\n            tokenAddress: tokenAddress\r\n        };\r\n\r\n        axios.post(apiUrl, params).then(function (response) {\r\n            console.log('msg', response.msg);\r\n            \r\n        }).catch(function (error) {\r\n            console.error(error);\r\n            return false;\r\n        });\r\n        setIsOpen(false);\r\n\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <Toast onClose={() => setShowToastBuy(false)} show={showToastBuy} delay={7000} autohide>\r\n          <Toast.Header>\r\n            <img\r\n              src=\"holder.js/20x20?text=%20\"\r\n              className=\"rounded me-2\"\r\n              alt=\"\"\r\n            />\r\n            <strong className=\"me-auto\">Notice</strong>\r\n            <small className=\"mr-auto\"></small>\r\n          </Toast.Header>\r\n          <Toast.Body>{ toastTextBuy }</Toast.Body>\r\n        </Toast>\r\n        <Modal show={isOpen} onHide={handleClose}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Approve</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body className=\"text-center\">\r\n              \r\n          <div className=\"outer bg-black absolute top-0 left-0 h-full w-full z-20 opacity-80\"></div>\r\n\r\n            <div className=\"absolute top-0 left-0 h-full w-full z-30 flex items-center justify-center\" onClick={() => handleClose()} >\r\n                <div className=\"inner max-w-screen-sm flex-grow  text-white  bg-gradient-to-br from-yellow-200 to-yellow-700 p-1 opacity-100 rounded-3xl\" onClick={ (e) => { e.stopPropagation(); }} >\r\n                    {account && (\r\n                        <>\r\n                            <div data-bs-dismiss=\"modal\" id=\"wallet-connect-metamask\" className=\"c-list border-b px-3 py-2 d-flex align-items-center\">\r\n                                <div className=\"text-white m-auto\"> Are you going to delete this data really?</div>\r\n                            </div>\r\n                            <div data-bs-dismiss=\"modal\" id=\"wallet-connect-metamask\" className=\"c-list border-b px-3 py-2 d-flex align-items-center cursor-pointer\">\r\n                                <button className=\"btn btn-wallet wallet-connected m-auto\" onClick={ handleDelete }> Yes</button>\r\n                                <button className=\"btn btn-wallet wallet-connected m-auto\" onClick={ handleClose }> No </button>\r\n                            </div>\r\n                        </>\r\n                    )}\r\n                </div>\r\n            </div>\r\n          </Modal.Body>\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n  \r\n  export default BuyModal;"]},"metadata":{},"sourceType":"module"}