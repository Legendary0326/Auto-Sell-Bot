{"ast":null,"code":"var _jsxFileName = \"D:\\\\Work Space\\\\Auto-Sell-Bot\\\\front-end\\\\src\\\\components\\\\Project\\\\TokenDetail.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { SiWebpack, AiFillTwitterCircle, RiDiscordLine, SiMarketo, BsCircleFill } from 'react-icons/all';\nimport { ProgressBar } from 'react-bootstrap';\nimport tokenLogo from '../../assets/img/logo.webp';\nimport MyModal from '../modal/Modal';\nimport BuyModal from '../modal/BuyModal';\nimport { useEthers, useTokenBalance } from \"@usedapp/core\";\nimport { Container, Row, Col } from 'react-bootstrap';\nimport axios from 'axios';\nimport { Toast } from 'react-bootstrap';\nimport { useAirdropContractMethod, useSuniTokenContractMethod, useGetLastClaimedTime, useGetTotalClaimableAmount } from '../../util/interact';\nimport { suniTokenAddress, nftTokenAddress, verificationCode } from '../../contract_ABI/vestingData';\nimport { useMoralis } from \"react-moralis\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function TokenDetail() {\n  _s();\n\n  const {\n    Moralis,\n    user,\n    logout,\n    authenticate,\n    enableWeb3,\n    isInitialized,\n    isAuthenticated,\n    isWeb3Enabled\n  } = useMoralis();\n  const serverUrl = \"https://aqrcgowp9h22.usemoralis.com:2053/server\";\n  const appId = \"enN6Snll7WfvJehjeaj5QBCkZzPDJXXdIYHrvLPx\";\n  Moralis.start({\n    serverUrl: serverUrl,\n    appId: appId\n  });\n\n  async function getSupportedTokens() {\n    const tokens = await Moralis.Plugins.oneInch.getSupportedTokens({\n      chain: 'bsc' // The blockchain you want to use (eth/bsc/polygon)\n\n    });\n    console.log(tokens);\n  }\n\n  async function getQuote(fromToken, toToken, amount) {\n    const quote = await Moralis.Plugins.oneInch.quote({\n      chain: 'bsc',\n      // The blockchain you want to use (eth/bsc/polygon)\n      fromTokenAddress: fromToken,\n      // The token you want to swap\n      toTokenAddress: toToken,\n      // The token you want to receive\n      amount: amount\n    });\n    console.log(quote);\n  }\n\n  async function swap(fromToken, toToken, amount) {\n    const receipt = await Moralis.Plugins.oneInch.swap({\n      chain: 'bsc',\n      // The blockchain you want to use (eth/bsc/polygon)\n      fromTokenAddress: fromToken,\n      // The token you want to swap\n      toTokenAddress: toToken,\n      // The token you want to receive\n      amount: amount,\n      fromAddress: account,\n      // Your wallet address\n      slippage: 1\n    });\n    console.log(receipt);\n  }\n\n  const unmounted = useRef(true);\n  const project = {\n    name: 'SUNI',\n    status: 'Open',\n    message: 'You can sell any token daily'\n  };\n  const currentTime = Math.round(new Date().getTime() / 1000);\n  const [isOpen, setIsOpen] = useState(false);\n  const [isOpenBuy, setIsOpenBuy] = useState(false);\n  const [showToastBuy, setShowToastBuy] = useState(false);\n  const [toastTextBuy, setToastTextBuy] = useState('');\n  const {\n    account,\n    chainId\n  } = useEthers();\n  const [myNfts, setMyNfts] = useState([]);\n  const [myTokenIds, setMyTokenIds] = useState([]);\n  const [myStartTimes, setMyStartTimes] = useState([]);\n  const suniBalance = useTokenBalance(suniTokenAddress, account) / 10 ** 18;\n  const [nftBalance, setNftBalance] = useState('');\n  const lastClaimedTime = useGetLastClaimedTime(account, myTokenIds[0]);\n  const totalClaimableAmount = useGetTotalClaimableAmount(myTokenIds, myStartTimes, account) / 10 ** 18;\n  useEffect(() => {\n    Moralis.start({\n      serverUrl,\n      appId\n    });\n\n    if (isInitialized) {\n      Moralis.initPlugins();\n    }\n\n    return () => {\n      unmounted.current = false;\n    };\n  }, []);\n  useEffect(() => {\n    getMyNft();\n    claimToken('get');\n    return () => {\n      unmounted.current = false;\n    };\n  }, [myNfts, account]);\n\n  function getMyNft() {\n    var options1 = {\n      method: 'GET',\n      url: 'https://deep-index.moralis.io/api/v2/' + account + '/nft/' + nftTokenAddress + '?chain=eth&format=decimal',\n      headers: {\n        Accept: 'application/json',\n        'X-API-KEY': 'aF6jKJDYuy0p8jXoA9hSwJn68VMevh9XKrENKU2XzMFRjTPAcjp1nHeDE6JESV2L'\n      }\n    };\n    axios.request(options1).then(function (response) {\n      let myNfts_tmp = [];\n      let result = response.data.result;\n      result.map(item => {\n        myNfts_tmp.push({\n          token_id: item.token_id,\n          owner_of: item.owner_of,\n          token_address: item.token_address\n        });\n      });\n      setNftBalance(response.data.result.length);\n      setMyNfts(myNfts_tmp);\n    }).catch(function (error) {\n      console.error(error);\n    });\n  }\n\n  const {\n    state: stateDoAirdrop,\n    send: doAirdrop,\n    events: getEventDoAirdrop\n  } = useAirdropContractMethod(\"doAirdrop\");\n\n  function claimToken(option) {\n    var options2 = {\n      method: 'GET',\n      url: 'https://deep-index.moralis.io/api/v2/' + account + '/nft/transfers?chain=eth&format=decimal&direction=both',\n      headers: {\n        Accept: 'application/json',\n        'X-API-KEY': 'aF6jKJDYuy0p8jXoA9hSwJn68VMevh9XKrENKU2XzMFRjTPAcjp1nHeDE6JESV2L'\n      }\n    };\n    axios.request(options2).then(function (response) {\n      let claimReqInfo = [];\n      let tokenIds = [];\n      let startTimes = [];\n      let transferInfo = response.data.result;\n      let flag;\n      myNfts.map(nftItem => {\n        flag = 0;\n        transferInfo.map(transferItem => {\n          if (nftItem.token_id == transferItem.token_id && nftItem.owner_of == transferItem.to_address && nftItem.token_address == transferItem.token_address && flag == 0) {\n            let startTimestamp = new Date(transferItem.block_timestamp);\n            startTimestamp = Number(startTimestamp.getTime() / 1000).toString();\n\n            if (startTimestamp < 1643144400) {\n              // If hold date is less 14th Jan 2022, it set 2022/1/14\n              startTimestamp = 1643144400;\n            } else {\n              let days = parseInt(startTimestamp / 86400);\n              startTimestamp = days * 86400 - 3600 * 3;\n            }\n\n            tokenIds.push(Number(nftItem.token_id).toString());\n            startTimes.push(startTimestamp);\n            claimReqInfo.push({\n              token_id: nftItem.token_id,\n              owner_of: nftItem.owner_of,\n              token_address: nftItem.token_address,\n              startTimestamp: startTimestamp\n            });\n            flag = 1;\n          }\n        });\n      });\n\n      if (option == 'claim') {\n        doAirdrop(tokenIds, startTimes, verificationCode);\n      } else if (option == 'get') {\n        setMyTokenIds(tokenIds);\n        setMyStartTimes(startTimes);\n      }\n    }).catch(function (error) {\n      console.error(error);\n      return false;\n    }); // setIsOpenBuy(true);\n  }\n\n  useEffect(() => {\n    if (stateDoAirdrop.status == 'Success') {\n      setToastTextBuy(\"Claiming successfully!\");\n      setShowToastBuy(true);\n    } else if (stateDoAirdrop.status == 'Exception') {\n      setToastTextBuy(stateDoAirdrop.errorMessage);\n      setShowToastBuy(true);\n    }\n\n    return () => {\n      unmounted.current = false;\n    };\n  }, [stateDoAirdrop]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          sm: 5,\n          children: /*#__PURE__*/_jsxDEV(\"section\", {\n            className: \"mt-auto\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"toekn-detail-header d-flex mt-5\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"custom-card-title\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"tokenLogo mt-auto\",\n                  src: tokenLogo,\n                  alt: \"project profile\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 68\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"custom-card-title\",\n                children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-white mb-auto  tokenLogoTitle\",\n                  children: \"Auto Sell App\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 68\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"custom-card-header\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"custom-card-title\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid-box\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"buyBtnContainer d-flex\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"status\",\n                      children: \"USDT\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 213,\n                      columnNumber: 45\n                    }, this), \" \\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"status\",\n                      children: \"Any Token\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 214,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"social-links\",\n                    children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"https://sassyunicorns.io/\",\n                      children: /*#__PURE__*/_jsxDEV(SiWebpack, {\n                        className: \"social-link\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 217,\n                        columnNumber: 81\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 217,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"https://twitter.com/SassyUnicornNFT\",\n                      children: /*#__PURE__*/_jsxDEV(AiFillTwitterCircle, {\n                        className: \"social-link\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 218,\n                        columnNumber: 91\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 218,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"https://discord.gg/2PjVUrJvDJ\",\n                      children: /*#__PURE__*/_jsxDEV(RiDiscordLine, {\n                        className: \"social-link\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 219,\n                        columnNumber: 85\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 219,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"https://opensea.io/collection/sassy-unicorns\",\n                      children: /*#__PURE__*/_jsxDEV(SiMarketo, {\n                        className: \"social-link\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 220,\n                        columnNumber: 100\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 220,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 216,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-white my-4\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"my-2\",\n                    children: project.message\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 225,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: 7,\n          children: /*#__PURE__*/_jsxDEV(\"section\", {\n            className: \"custom-card text-gray\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid-box text-white\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: \" Your USDT Balance \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  paddingRight: '3rem'\n                },\n                children: [\" \", !suniBalance ? '-' : suniBalance + ' SUNI', \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n              className: \"bg-gray-100\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid-box\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: \" Token Address \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"form-control\",\n                type: \"number\",\n                step: \"0.01\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid-box text-white mb-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid-box text-white\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: \" Token Amount \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"form-control\",\n                type: \"number\",\n                step: \"0.01\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n              className: \"bg-gray-100\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid-box\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: \" \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-wallet wallet-connected m-auto\",\n                  children: \" Add New Token Sale\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(MyModal, {\n      isOpen: isOpen,\n      setIsOpen: setIsOpen,\n      onlyOneToast: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(BuyModal, {\n      isOpen: isOpenBuy,\n      setIsOpen: setIsOpenBuy,\n      onlyOneToast: false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Toast, {\n      onClose: () => setShowToastBuy(false),\n      show: showToastBuy,\n      delay: 7000,\n      autohide: true,\n      children: [/*#__PURE__*/_jsxDEV(Toast.Header, {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"holder.js/20x20?text=%20\",\n          className: \"rounded me-2\",\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n          className: \"me-auto\",\n          children: \"Notice\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          className: \"mr-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Toast.Body, {\n        children: toastTextBuy\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(TokenDetail, \"ky8gGDJUUgmVikXkFl3jTvMterc=\", false, function () {\n  return [useMoralis, useEthers, useTokenBalance, useGetLastClaimedTime, useGetTotalClaimableAmount, useAirdropContractMethod];\n});\n\n_c = TokenDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"TokenDetail\");","map":{"version":3,"sources":["D:/Work Space/Auto-Sell-Bot/front-end/src/components/Project/TokenDetail.js"],"names":["React","useState","useEffect","useRef","SiWebpack","AiFillTwitterCircle","RiDiscordLine","SiMarketo","BsCircleFill","ProgressBar","tokenLogo","MyModal","BuyModal","useEthers","useTokenBalance","Container","Row","Col","axios","Toast","useAirdropContractMethod","useSuniTokenContractMethod","useGetLastClaimedTime","useGetTotalClaimableAmount","suniTokenAddress","nftTokenAddress","verificationCode","useMoralis","TokenDetail","Moralis","user","logout","authenticate","enableWeb3","isInitialized","isAuthenticated","isWeb3Enabled","serverUrl","appId","start","getSupportedTokens","tokens","Plugins","oneInch","chain","console","log","getQuote","fromToken","toToken","amount","quote","fromTokenAddress","toTokenAddress","swap","receipt","fromAddress","account","slippage","unmounted","project","name","status","message","currentTime","Math","round","Date","getTime","isOpen","setIsOpen","isOpenBuy","setIsOpenBuy","showToastBuy","setShowToastBuy","toastTextBuy","setToastTextBuy","chainId","myNfts","setMyNfts","myTokenIds","setMyTokenIds","myStartTimes","setMyStartTimes","suniBalance","nftBalance","setNftBalance","lastClaimedTime","totalClaimableAmount","initPlugins","current","getMyNft","claimToken","options1","method","url","headers","Accept","request","then","response","myNfts_tmp","result","data","map","item","push","token_id","owner_of","token_address","length","catch","error","state","stateDoAirdrop","send","doAirdrop","events","getEventDoAirdrop","option","options2","claimReqInfo","tokenIds","startTimes","transferInfo","flag","nftItem","transferItem","to_address","startTimestamp","block_timestamp","Number","toString","days","parseInt","errorMessage","paddingRight"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n\nimport { SiWebpack, AiFillTwitterCircle, RiDiscordLine, SiMarketo, BsCircleFill } from 'react-icons/all';\nimport { ProgressBar } from 'react-bootstrap';\nimport tokenLogo from '../../assets/img/logo.webp';\nimport MyModal from '../modal/Modal';\nimport BuyModal from '../modal/BuyModal';\nimport { useEthers, useTokenBalance } from \"@usedapp/core\";\nimport { Container, Row, Col } from 'react-bootstrap';\nimport axios from 'axios';\nimport { Toast} from 'react-bootstrap';\nimport { \n    useAirdropContractMethod, \n    useSuniTokenContractMethod,\n    useGetLastClaimedTime,\n    useGetTotalClaimableAmount\n} from '../../util/interact';\nimport { \n    suniTokenAddress, \n    nftTokenAddress,\n    verificationCode \n} from '../../contract_ABI/vestingData';\nimport { useMoralis } from \"react-moralis\";\n\nexport default function TokenDetail() {\n    const {\n\t\tMoralis,\n\t\tuser,\n\t\tlogout,\n\t\tauthenticate,\n\t\tenableWeb3,\n\t\tisInitialized,\n\t\tisAuthenticated,\n\t\tisWeb3Enabled,\n\t} = useMoralis();\n\n    const serverUrl = \"https://aqrcgowp9h22.usemoralis.com:2053/server\";\n    const appId = \"enN6Snll7WfvJehjeaj5QBCkZzPDJXXdIYHrvLPx\";\n    Moralis.start({serverUrl:serverUrl, appId :appId});\n    \n    async function getSupportedTokens() {\n        const tokens = await Moralis.Plugins.oneInch.getSupportedTokens({\n            chain: 'bsc', // The blockchain you want to use (eth/bsc/polygon)\n        });\n        console.log(tokens);\n    }\n\n    async function getQuote(fromToken, toToken, amount) {\n        const quote = await Moralis.Plugins.oneInch.quote({\n          chain: 'bsc', // The blockchain you want to use (eth/bsc/polygon)\n          fromTokenAddress: fromToken, // The token you want to swap\n          toTokenAddress: toToken, // The token you want to receive\n          amount: amount,\n        });\n        console.log(quote);\n    }\n\n    async function swap(fromToken, toToken, amount) {\n        const receipt = await Moralis.Plugins.oneInch.swap({\n          chain: 'bsc', // The blockchain you want to use (eth/bsc/polygon)\n          fromTokenAddress: fromToken, // The token you want to swap\n          toTokenAddress: toToken, // The token you want to receive\n          amount: amount,\n          fromAddress: account, // Your wallet address\n          slippage: 1,\n        });\n        console.log(receipt);\n    }\n\n    const unmounted = useRef(true);\n    const project = {\n        name: 'SUNI',\n        status: 'Open',\n        message: 'You can sell any token daily'\n    };\n\n    const currentTime = Math.round(new Date().getTime()/1000);\n    const [isOpen, setIsOpen] = useState(false);\n    const [isOpenBuy, setIsOpenBuy] = useState(false);\n    const [showToastBuy, setShowToastBuy] = useState(false);\n    const [toastTextBuy, setToastTextBuy] = useState('');\n    const {account, chainId} = useEthers();\n\n    const [myNfts, setMyNfts] = useState([]);\n    const [myTokenIds, setMyTokenIds] = useState([]);\n    const [myStartTimes, setMyStartTimes] = useState([]);\n    \n    const suniBalance = useTokenBalance(suniTokenAddress, account) / 10 ** 18;\n    const[nftBalance, setNftBalance] = useState('');\n    const lastClaimedTime = useGetLastClaimedTime(account, myTokenIds[0]);\n\n    const totalClaimableAmount = useGetTotalClaimableAmount(myTokenIds, myStartTimes, account) / 10 ** 18;\n    useEffect( () => {\n        Moralis.start({ serverUrl, appId});\n\n        if (isInitialized) {\n\t\t\tMoralis.initPlugins();\n\t\t}\n        return () => { unmounted.current = false }\n    }, []);\n\n    useEffect( () => {\n        getMyNft();\n        claimToken('get');\n        return () => { unmounted.current = false }\n    }, [myNfts, account]);\n \n    function getMyNft() {\n        var options1 = {\n            method: 'GET',\n            url: 'https://deep-index.moralis.io/api/v2/' + account + '/nft/' + nftTokenAddress + '?chain=eth&format=decimal',\n            headers: {Accept: 'application/json', 'X-API-KEY': 'aF6jKJDYuy0p8jXoA9hSwJn68VMevh9XKrENKU2XzMFRjTPAcjp1nHeDE6JESV2L'}\n        };\n\n        axios.request(options1).then(function (response) {\n            let myNfts_tmp = [];\n            let result = response.data.result;\n            result.map((item) => {\n                myNfts_tmp.push({\n                    token_id: item.token_id,\n                    owner_of: item.owner_of,\n                    token_address: item.token_address,\n                });\n            });\n            setNftBalance(response.data.result.length);\n            setMyNfts(myNfts_tmp);\n          }).catch(function (error) {\n            console.error(error);\n        });\n    }\n\n    const { state: stateDoAirdrop, send: doAirdrop, events: getEventDoAirdrop } = useAirdropContractMethod(\"doAirdrop\");\n    function claimToken(option) {\n        var options2 = {\n            method: 'GET',\n            url: 'https://deep-index.moralis.io/api/v2/' + account + '/nft/transfers?chain=eth&format=decimal&direction=both',\n            headers: {Accept: 'application/json', 'X-API-KEY': 'aF6jKJDYuy0p8jXoA9hSwJn68VMevh9XKrENKU2XzMFRjTPAcjp1nHeDE6JESV2L'}\n        };\n\n        axios.request(options2).then(function (response) {\n            let claimReqInfo = [];\n            let tokenIds = [];\n            let startTimes = [];\n            let transferInfo = response.data.result;\n            let flag;\n            myNfts.map((nftItem) => {\n                flag = 0;\n                transferInfo.map((transferItem) => {\n                    if(nftItem.token_id == transferItem.token_id && nftItem.owner_of == transferItem.to_address && nftItem.token_address == transferItem.token_address && flag == 0) {\n                        let startTimestamp = new Date(transferItem.block_timestamp);\n                        startTimestamp = Number(startTimestamp.getTime() / 1000).toString();\n                        if(startTimestamp < 1643144400){ // If hold date is less 14th Jan 2022, it set 2022/1/14\n                            startTimestamp = 1643144400;\n                        } else{\n                            let days = parseInt(startTimestamp / 86400);\n                            startTimestamp = days * 86400 - 3600 * 3;\n                        }\n                        \n                        tokenIds.push(Number(nftItem.token_id).toString());\n                        startTimes.push(startTimestamp);\n\n                        claimReqInfo.push({\n                            token_id: nftItem.token_id,\n                            owner_of: nftItem.owner_of,\n                            token_address: nftItem.token_address,\n                            startTimestamp: startTimestamp,\n                        });\n                        flag = 1;\n                    }\n                });\n            });\n            \n            if(option == 'claim'){\n                doAirdrop(tokenIds, startTimes, verificationCode);\n            }          \n            else if(option == 'get'){\n                setMyTokenIds(tokenIds);\n                setMyStartTimes(startTimes);\n            }\n\n          }).catch(function (error) {\n            console.error(error);\n            return false;\n        });\n        // setIsOpenBuy(true);\n    }\n\n    useEffect( () => {\n        if(stateDoAirdrop.status == 'Success') {\n            setToastTextBuy(\"Claiming successfully!\");\n            setShowToastBuy(true);\n        }else if(stateDoAirdrop.status == 'Exception') {\n            setToastTextBuy(stateDoAirdrop.errorMessage);\n            setShowToastBuy(true);\n        }\n        return () => { unmounted.current = false }\n    }, [ stateDoAirdrop ]);\n\n    return (\n        <>\n            <Container>\n                <Row>\n                    <Col sm={5}>\n                        <section className=\"mt-auto\">\n                            <div className=\"toekn-detail-header d-flex mt-5\">\n                                <div className=\"custom-card-title\"><img className=\"tokenLogo mt-auto\" src={tokenLogo} alt=\"project profile\"></img></div>\n                                <div className=\"custom-card-title\"><h2 className=\"text-white mb-auto  tokenLogoTitle\">Auto Sell App</h2></div>\n                            </div>\n                            <div className=\"custom-card-header\">\n                                <div className=\"custom-card-title\">\n                                    <div className=\"grid-box\">\n                                        <div className=\"buyBtnContainer d-flex\">\n                                            <span className=\"status\">USDT</span> &nbsp;&nbsp;&nbsp;\n                                            <span className=\"status\">Any Token</span>\n                                        </div>\n                                        <div className=\"social-links\">\n                                            <a href=\"https://sassyunicorns.io/\"><SiWebpack className=\"social-link\" /></a>\n                                            <a href=\"https://twitter.com/SassyUnicornNFT\"><AiFillTwitterCircle className=\"social-link\" /></a>\n                                            <a href=\"https://discord.gg/2PjVUrJvDJ\"><RiDiscordLine className=\"social-link\" /></a>\n                                            <a href=\"https://opensea.io/collection/sassy-unicorns\"><SiMarketo className=\"social-link\" /></a>\n                                        </div>\n                                        <div></div>\n                                    </div>\n                                    <div className=\"text-white my-4\">\n                                        <div className=\"my-2\">\n                                            {project.message}\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </section>\n                    </Col>\n                    <Col sm={7}>\n                        <section className=\"custom-card text-gray\">\n                            <div className=\"grid-box text-white\">\n                                <div> Your USDT Balance </div>\n                                <div style={{paddingRight: '3rem'}}> {!suniBalance ? ('-') : (suniBalance + ' SUNI')} </div>\n                            </div>\n                            <hr className=\"bg-gray-100\" />\n                            <div className=\"grid-box\">\n                                <div> Token Address </div>\n                                <input className='form-control' type=\"number\" step=\"0.01\" />\n                            </div>\n                            <div className=\"grid-box text-white mb-2\">\n                            </div>\n                            <div className=\"grid-box text-white\">\n                                <div> Token Amount </div>\n                                <input className='form-control' type=\"number\" step=\"0.01\" />\n                            </div>\n                            <hr className=\"bg-gray-100\" />\n                            <div className=\"grid-box\">\n                                <div> </div>\n                                <div> \n                                    <button className=\"btn btn-wallet wallet-connected m-auto\"> Add New Token Sale</button> \n                                </div>\n                            </div>\n                        </section>\n                    </Col>\n                </Row>\n            </Container>\n            <MyModal isOpen = { isOpen } setIsOpen = {setIsOpen} onlyOneToast = {true}/>\n            <BuyModal isOpen = { isOpenBuy } setIsOpen = {setIsOpenBuy} onlyOneToast = {false}/>\n\n            <Toast onClose={() => setShowToastBuy(false)} show={showToastBuy} delay={7000} autohide>\n                <Toast.Header>\n                    <img\n                    src=\"holder.js/20x20?text=%20\"\n                    className=\"rounded me-2\"\n                    alt=\"\"\n                    />\n                    <strong className=\"me-auto\">Notice</strong>\n                    <small className=\"mr-auto\"></small>\n                </Toast.Header>\n                <Toast.Body>{ toastTextBuy }</Toast.Body>\n            </Toast>\n        </>\n    );\n}"]},"metadata":{},"sourceType":"module"}