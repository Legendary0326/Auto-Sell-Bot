{"ast":null,"code":"import _slicedToArray from\"D:/Work Space/Auto-Sell-Bot/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from'react';import{useEthers,useTokenBalance}from\"@usedapp/core\";import Modal from'react-bootstrap/Modal';import{Toast,Form,Row,Col}from'react-bootstrap';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var base_api_url=\"\".concat(window.location.protocol,\"//\").concat(window.location.hostname,\":3000/api\");var BuyModalNew=function BuyModalNew(_ref){var isOpen=_ref.isOpen,setIsOpen=_ref.setIsOpen;var unmounted=useRef(true);var _useEthers=useEthers(),account=_useEthers.account;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showToastBuy=_useState2[0],setShowToastBuy=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),toastTextBuy=_useState4[0],setToastTextBuy=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),privateKey=_useState6[0],setPrivateKey=_useState6[1];useEffect(function(){return function(){unmounted.current=false;};},[]);var handleClose=function handleClose(){setIsOpen(false);};function handleViewPrivateKey(){console.log('privateKey',privateKey);}function handleSetPrivateKey(){var apiUrl=base_api_url+'/setPrivateKey';var params={walletAddress:account,privateKey:privateKey};axios.post(apiUrl,params).then(function(response){console.log('msg',response.msg);}).catch(function(error){console.error(error);return false;});setIsOpen(false);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Toast,{onClose:function onClose(){return setShowToastBuy(false);},show:showToastBuy,delay:7000,autohide:true,children:[/*#__PURE__*/_jsxs(Toast.Header,{children:[/*#__PURE__*/_jsx(\"img\",{src:\"holder.js/20x20?text=%20\",className:\"rounded me-2\",alt:\"\"}),/*#__PURE__*/_jsx(\"strong\",{className:\"me-auto\",children:\"Notice\"}),/*#__PURE__*/_jsx(\"small\",{className:\"mr-auto\"})]}),/*#__PURE__*/_jsx(Toast.Body,{children:toastTextBuy})]}),/*#__PURE__*/_jsxs(Modal,{show:isOpen,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Approve\"})}),/*#__PURE__*/_jsxs(Modal.Body,{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"outer bg-black absolute top-0 left-0 h-full w-full z-20 opacity-80\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 left-0 h-full w-full z-30 flex items-center justify-center\",onClick:function onClick(){return handleClose();},children:/*#__PURE__*/_jsx(\"div\",{className:\"inner max-w-screen-sm flex-grow  text-white  bg-gradient-to-br from-yellow-200 to-yellow-700 p-1 opacity-100 rounded-3xl\",onClick:function onClick(e){e.stopPropagation();},children:account&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{\"data-bs-dismiss\":\"modal\",id:\"wallet-connect-metamask\",className:\"c-list border-b px-3 py-2 d-flex align-items-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-white m-auto\",children:\" please, input your private key here!\"})}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"password\",onChange:function onChange(e){return setPrivateKey(e.target.value);}}),/*#__PURE__*/_jsxs(\"div\",{\"data-bs-dismiss\":\"modal\",id:\"wallet-connect-metamask\",className:\"c-list border-b px-3 py-2 d-flex align-items-center cursor-pointer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-wallet wallet-connected m-auto\",onClick:handleViewPrivateKey,children:\" View Private Key\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-wallet wallet-connected m-auto\",onClick:handleSetPrivateKey,children:\" Save\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-wallet wallet-connected m-auto\",onClick:handleClose,children:\" Cancel \"})]})]})})})]})]})]});};export default BuyModalNew;","map":{"version":3,"sources":["D:/Work Space/Auto-Sell-Bot/front-end/src/components/modal/BuyModalNew.js"],"names":["React","useState","useEffect","useRef","useEthers","useTokenBalance","Modal","Toast","Form","Row","Col","axios","base_api_url","window","location","protocol","hostname","BuyModalNew","isOpen","setIsOpen","unmounted","account","showToastBuy","setShowToastBuy","toastTextBuy","setToastTextBuy","privateKey","setPrivateKey","current","handleClose","handleViewPrivateKey","console","log","handleSetPrivateKey","apiUrl","params","walletAddress","post","then","response","msg","catch","error","e","stopPropagation","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useEthers, useTokenBalance } from \"@usedapp/core\";\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport { Toast, Form, Row, Col } from 'react-bootstrap';\r\nimport axios from 'axios';\r\n\r\nconst base_api_url = `${window.location.protocol}//${window.location.hostname}:3000/api`;\r\n\r\nconst BuyModalNew = ({ isOpen, setIsOpen}) => {\r\n    const unmounted = useRef(true);\r\n    const { account } = useEthers();\r\n    const [showToastBuy, setShowToastBuy] = useState(false);\r\n    const [toastTextBuy, setToastTextBuy] = useState('');\r\n    const [privateKey, setPrivateKey] = useState('');\r\n\r\n    useEffect( () => {\r\n        return () => { unmounted.current = false }\r\n    }, []);\r\n\r\n    const handleClose = () => {\r\n        setIsOpen(false);\r\n    }\r\n\r\n    function handleViewPrivateKey() {\r\n        console.log('privateKey', privateKey)\r\n    }\r\n    function handleSetPrivateKey() {\r\n        var apiUrl = base_api_url + '/setPrivateKey'\r\n        var params = {\r\n            walletAddress: account,\r\n            privateKey: privateKey\r\n        };\r\n\r\n        axios.post(apiUrl, params).then(function (response) {\r\n            console.log('msg', response.msg);\r\n            \r\n        }).catch(function (error) {\r\n            console.error(error);\r\n            return false;\r\n        });\r\n        setIsOpen(false);\r\n\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <Toast onClose={() => setShowToastBuy(false)} show={showToastBuy} delay={7000} autohide>\r\n          <Toast.Header>\r\n            <img\r\n              src=\"holder.js/20x20?text=%20\"\r\n              className=\"rounded me-2\"\r\n              alt=\"\"\r\n            />\r\n            <strong className=\"me-auto\">Notice</strong>\r\n            <small className=\"mr-auto\"></small>\r\n          </Toast.Header>\r\n          <Toast.Body>{ toastTextBuy }</Toast.Body>\r\n        </Toast>\r\n        <Modal show={isOpen} onHide={handleClose}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Approve</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body className=\"text-center\">\r\n              \r\n          <div className=\"outer bg-black absolute top-0 left-0 h-full w-full z-20 opacity-80\"></div>\r\n\r\n            <div className=\"absolute top-0 left-0 h-full w-full z-30 flex items-center justify-center\" onClick={() => handleClose()} >\r\n                <div className=\"inner max-w-screen-sm flex-grow  text-white  bg-gradient-to-br from-yellow-200 to-yellow-700 p-1 opacity-100 rounded-3xl\" onClick={ (e) => { e.stopPropagation(); }} >\r\n                    {account && (\r\n                        <>\r\n                            <div data-bs-dismiss=\"modal\" id=\"wallet-connect-metamask\" className=\"c-list border-b px-3 py-2 d-flex align-items-center\">\r\n                                <div className=\"text-white m-auto\"> please, input your private key here!</div>\r\n                            </div>\r\n                            <input className='form-control' type=\"password\" onChange={e => setPrivateKey(e.target.value)}/>\r\n                            <div data-bs-dismiss=\"modal\" id=\"wallet-connect-metamask\" className=\"c-list border-b px-3 py-2 d-flex align-items-center cursor-pointer\">\r\n                                <button className=\"btn btn-wallet wallet-connected m-auto\" onClick={ handleViewPrivateKey }> View Private Key</button>\r\n                                <button className=\"btn btn-wallet wallet-connected m-auto\" onClick={ handleSetPrivateKey }> Save</button>\r\n                                <button className=\"btn btn-wallet wallet-connected m-auto\" onClick={ handleClose }> Cancel </button>\r\n                            </div>\r\n                        </>\r\n                    )}\r\n                </div>\r\n            </div>\r\n          </Modal.Body>\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n  \r\n  export default BuyModalNew;"]},"metadata":{},"sourceType":"module"}