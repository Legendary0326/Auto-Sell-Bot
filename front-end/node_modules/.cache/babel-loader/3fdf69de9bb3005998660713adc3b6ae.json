{"ast":null,"code":"var _jsxFileName = \"D:\\\\Work Space\\\\Auto-Sell-Bot\\\\src\\\\components\\\\modal\\\\BuyModal.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useEthers, useTokenBalance } from \"@usedapp/core\";\nimport Modal from 'react-bootstrap/Modal';\nimport { Toast, Form, Row, Col } from 'react-bootstrap';\nimport metamask from \"../../assets/icons/metamask.svg\";\nimport binance from \"../../assets/icons/binance.png\";\nimport { suniTokenAddress, airdropContractAddress } from '../../contract_ABI/vestingData';\nimport { useSuniContractMethod, useAirdropContractMethod } from '../../util/interact';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst BuyModal = ({\n  isOpen,\n  setIsOpen,\n  onlyOneToast\n}) => {\n  _s();\n\n  const unmounted = useRef(true);\n  const [isOpenBuy, setIsOpenBuy] = useState(false);\n  const {\n    account\n  } = useEthers();\n  const [showToastBuy, setShowToastBuy] = useState(false);\n  const [toastTextBuy, setToastTextBuy] = useState('');\n  useEffect(() => {\n    return () => {\n      unmounted.current = false;\n    };\n  }, []);\n\n  const handleClose = () => {\n    setIsOpen(false);\n  };\n\n  const handleCloseBuy = () => setIsOpenBuy(false);\n\n  function handleApprove() {}\n\n  useEffect(() => {\n    return () => {\n      unmounted.current = false;\n    };\n  }, []);\n\n  function handleSwitchCurrency(currency) {\n    console.log(currency);\n  }\n\n  const {\n    state: stateAddVest,\n    send: addVest,\n    events: getEventAddVest\n  } = useAirdropContractMethod(\"addVest\");\n\n  function handleBuy() {\n    addVest(Math.round(100), true, 'usd');\n  }\n\n  useEffect(() => {\n    if (stateAddVest.status == 'Success') {\n      handleCloseBuy();\n      setShowToastBuy(true);\n    } else if (stateAddVest.status == 'Exception') {\n      handleCloseBuy();\n      setShowToastBuy(true);\n    }\n\n    return () => {\n      unmounted.current = false;\n    };\n  }, [stateAddVest]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Toast, {\n      onClose: () => setShowToastBuy(false),\n      show: showToastBuy,\n      delay: 7000,\n      autohide: true,\n      children: [/*#__PURE__*/_jsxDEV(Toast.Header, {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"holder.js/20x20?text=%20\",\n          className: \"rounded me-2\",\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n          className: \"me-auto\",\n          children: \"Notice\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          className: \"mr-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Toast.Body, {\n        children: toastTextBuy\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: isOpen,\n      onHide: handleClose,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Approve\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"outer bg-black absolute top-0 left-0 h-full w-full z-20 opacity-80\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute top-0 left-0 h-full w-full z-30 flex items-center justify-center\",\n          onClick: () => handleClose(),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"inner max-w-screen-sm flex-grow  text-white  bg-gradient-to-br from-yellow-200 to-yellow-700 p-1 opacity-100 rounded-3xl\",\n            onClick: e => {\n              e.stopPropagation();\n            },\n            children: account && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                \"data-bs-dismiss\": \"modal\",\n                id: \"wallet-connect-metamask\",\n                className: \"c-list border-b px-3 py-2 d-flex align-items-center\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-white m-auto\",\n                  children: [\" The Buyable Maximum Amount Of Your Tier Is $! \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 89,\n                    columnNumber: 115\n                  }, this), \"(Note: You can insert the token to the vesting schedule with only one buying.)\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                \"data-bs-dismiss\": \"modal\",\n                id: \"wallet-connect-metamask\",\n                className: \"c-list border-b px-3 py-2 d-flex align-items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-white m-auto\",\n                  children: /*#__PURE__*/_jsxDEV(Form, {\n                    children: [/*#__PURE__*/_jsxDEV(Form.Check, {\n                      inline: true,\n                      defaultChecked: 'payCurrency' == 'usdtTokenAddress' ? true : false,\n                      label: \"USDT\",\n                      name: \"group1\",\n                      type: \"radio\",\n                      id: \"inline-radio-1\",\n                      onClick: () => handleSwitchCurrency('usdt')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 94,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Check, {\n                      inline: true,\n                      defaultChecked: 'payCurrency' == 'busdTokenAddress' ? true : false,\n                      label: \"BUSD\",\n                      name: \"group1\",\n                      type: \"radio\",\n                      id: \"inline-radio-2\",\n                      onClick: () => handleSwitchCurrency('busd')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 103,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                \"data-bs-dismiss\": \"modal\",\n                id: \"wallet-connect-metamask\",\n                className: \"c-list border-b px-3 py-2 d-flex align-items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-white m-auto\",\n                  children: \" CSPD\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"form-control\",\n                    type: \"text\",\n                    value: 'buyCspdAmount',\n                    disabled: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 121,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                \"data-bs-dismiss\": \"modal\",\n                id: \"wallet-connect-metamask\",\n                className: \"c-list border-b px-3 py-2 d-flex align-items-center cursor-pointer\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-wallet wallet-connected m-auto\",\n                  onClick: handleClose,\n                  children: \" Cancel \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-wallet wallet-connected m-auto\",\n                  onClick: handleApprove,\n                  children: \" Enable\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: isOpenBuy,\n      onHide: handleCloseBuy,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Buy CSPD Token\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"outer bg-black absolute top-0 left-0 h-full w-full z-20 opacity-80\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute top-0 left-0 h-full w-full z-30 flex items-center justify-center\",\n          onClick: () => handleCloseBuy(),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"inner max-w-screen-sm flex-grow  text-white  bg-gradient-to-br from-yellow-200 to-yellow-700 p-1 opacity-100 rounded-3xl\",\n            onClick: e => {\n              e.stopPropagation();\n            },\n            children: account && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                \"data-bs-dismiss\": \"modal\",\n                id: \"wallet-connect-metamask\",\n                className: \"c-list border-b px-3 py-2 d-flex align-items-center\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-white m-auto\",\n                  children: \" Approve Successfully! \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                \"data-bs-dismiss\": \"modal\",\n                id: \"wallet-connect-metamask\",\n                className: \"c-list border-b px-3 py-2 d-flex align-items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-white m-auto\",\n                  children: \" USD\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"form-control\",\n                    type: \"number\",\n                    value: 'buyUsdAmount',\n                    disabled: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 153,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                \"data-bs-dismiss\": \"modal\",\n                id: \"wallet-connect-metamask\",\n                className: \"c-list border-b px-3 py-2 d-flex align-items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-white m-auto\",\n                  children: \" CSPD\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"form-control\",\n                    type: \"text\",\n                    value: 'buyCspdAmount',\n                    disabled: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                \"data-bs-dismiss\": \"modal\",\n                id: \"wallet-connect-metamask\",\n                className: \"c-list border-b px-3 py-2 d-flex align-items-center cursor-pointer\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-wallet wallet-connected m-auto\",\n                  onClick: handleBuy,\n                  children: \" Buy \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(BuyModal, \"sjYM6Q1aiS8irihLsZMzbo6Gswk=\", false, function () {\n  return [useEthers, useAirdropContractMethod];\n});\n\n_c = BuyModal;\nexport default BuyModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"BuyModal\");","map":{"version":3,"sources":["D:/Work Space/Auto-Sell-Bot/src/components/modal/BuyModal.js"],"names":["React","useState","useEffect","useRef","useEthers","useTokenBalance","Modal","Toast","Form","Row","Col","binance","suniTokenAddress","airdropContractAddress","useSuniContractMethod","useAirdropContractMethod","BuyModal","isOpen","setIsOpen","onlyOneToast","unmounted","isOpenBuy","setIsOpenBuy","account","showToastBuy","setShowToastBuy","toastTextBuy","setToastTextBuy","current","handleClose","handleCloseBuy","handleApprove","handleSwitchCurrency","currency","console","log","state","stateAddVest","send","addVest","events","getEventAddVest","handleBuy","Math","round","status","e","stopPropagation"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useEthers, useTokenBalance } from \"@usedapp/core\";\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport { Toast, Form, Row, Col } from 'react-bootstrap';\r\nimport metamask from \"../../assets/icons/metamask.svg\";\r\nimport binance from \"../../assets/icons/binance.png\";\r\nimport { \r\n    suniTokenAddress, \r\n    airdropContractAddress\r\n} from '../../contract_ABI/vestingData';\r\nimport { \r\n    useSuniContractMethod,\r\n    useAirdropContractMethod\r\n} from '../../util/interact';\r\n\r\nconst BuyModal = ({ isOpen, setIsOpen, onlyOneToast}) => {\r\n    const unmounted = useRef(true);\r\n    const [isOpenBuy, setIsOpenBuy] = useState(false);\r\n    const { account } = useEthers();\r\n    const [showToastBuy, setShowToastBuy] = useState(false);\r\n    const [toastTextBuy, setToastTextBuy] = useState('');\r\n\r\n    useEffect( () => {\r\n\r\n        return () => { unmounted.current = false }\r\n    }, []);\r\n\r\n    const handleClose = () => {\r\n        setIsOpen(false);\r\n    }\r\n    const handleCloseBuy = () => setIsOpenBuy(false);\r\n\r\n    function handleApprove() {\r\n        \r\n    }\r\n\r\n    useEffect( () => {\r\n\r\n        return () => { unmounted.current = false }\r\n    }, [ ]);\r\n\r\n    function handleSwitchCurrency(currency) {\r\n        console.log(currency);\r\n    }\r\n\r\n    const { state: stateAddVest, send: addVest, events: getEventAddVest } = useAirdropContractMethod(\"addVest\");\r\n    function handleBuy() {\r\n            addVest(Math.round(100), true, 'usd');\r\n    }\r\n\r\n    useEffect( () => {\r\n        if(stateAddVest.status == 'Success') {\r\n            handleCloseBuy();\r\n            setShowToastBuy(true);\r\n        }else if(stateAddVest.status == 'Exception') {\r\n            handleCloseBuy();\r\n            setShowToastBuy(true);\r\n        }\r\n        return () => { unmounted.current = false }\r\n    }, [ stateAddVest ]);\r\n\r\n    return (\r\n      <>\r\n        <Toast onClose={() => setShowToastBuy(false)} show={showToastBuy} delay={7000} autohide>\r\n          <Toast.Header>\r\n            <img\r\n              src=\"holder.js/20x20?text=%20\"\r\n              className=\"rounded me-2\"\r\n              alt=\"\"\r\n            />\r\n            <strong className=\"me-auto\">Notice</strong>\r\n            <small className=\"mr-auto\"></small>\r\n          </Toast.Header>\r\n          <Toast.Body>{ toastTextBuy }</Toast.Body>\r\n        </Toast>\r\n        <Modal show={isOpen} onHide={handleClose}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Approve</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body className=\"text-center\">\r\n              \r\n          <div className=\"outer bg-black absolute top-0 left-0 h-full w-full z-20 opacity-80\"></div>\r\n\r\n            <div className=\"absolute top-0 left-0 h-full w-full z-30 flex items-center justify-center\" onClick={() => handleClose()} >\r\n                <div className=\"inner max-w-screen-sm flex-grow  text-white  bg-gradient-to-br from-yellow-200 to-yellow-700 p-1 opacity-100 rounded-3xl\" onClick={ (e) => { e.stopPropagation(); }} >\r\n                    {account && (\r\n                        <>\r\n                            <div data-bs-dismiss=\"modal\" id=\"wallet-connect-metamask\" className=\"c-list border-b px-3 py-2 d-flex align-items-center\">\r\n                                <div className=\"text-white m-auto\"> The Buyable Maximum Amount Of Your Tier Is $! <br/>(Note: You can insert the token to the vesting schedule with only one buying.)</div>\r\n                            </div>\r\n                            <div data-bs-dismiss=\"modal\" id=\"wallet-connect-metamask\" className=\"c-list border-b px-3 py-2 d-flex align-items-center\">\r\n                                <div className=\"text-white m-auto\"> \r\n                                    <Form>\r\n                                        <Form.Check\r\n                                            inline\r\n                                            defaultChecked={'payCurrency' == 'usdtTokenAddress' ? true : false}\r\n                                            label=\"USDT\"\r\n                                            name=\"group1\"\r\n                                            type=\"radio\"\r\n                                            id=\"inline-radio-1\"\r\n                                            onClick={() => handleSwitchCurrency('usdt')}\r\n                                        />\r\n                                        <Form.Check\r\n                                            inline\r\n                                            defaultChecked={'payCurrency' == 'busdTokenAddress' ? true : false}\r\n                                            label=\"BUSD\"\r\n                                            name=\"group1\"\r\n                                            type=\"radio\"\r\n                                            id=\"inline-radio-2\"\r\n                                            onClick={() => handleSwitchCurrency('busd')}\r\n                                        />\r\n                                    </Form>\r\n                                </div>\r\n                                <div>\r\n                                    {/* <input className='form-control' type=\"number\" step=\"0.1\"  value={ 'buyUsdAmount' } onChange={e => setBuyUsdAmount(e.target.value)} /> */}\r\n                                </div>\r\n                            </div>\r\n                            <div data-bs-dismiss=\"modal\" id=\"wallet-connect-metamask\" className=\"c-list border-b px-3 py-2 d-flex align-items-center\">\r\n                                <div className=\"text-white m-auto\"> CSPD</div>\r\n                                <div>\r\n                                    <input className='form-control' type=\"text\" value={ 'buyCspdAmount' } disabled/>\r\n                                </div>\r\n                            </div>\r\n                            <div data-bs-dismiss=\"modal\" id=\"wallet-connect-metamask\" className=\"c-list border-b px-3 py-2 d-flex align-items-center cursor-pointer\">\r\n                                <button className=\"btn btn-wallet wallet-connected m-auto\" onClick={ handleClose }> Cancel </button>\r\n                                <button className=\"btn btn-wallet wallet-connected m-auto\" onClick={ handleApprove }> Enable</button>\r\n                            </div>\r\n                        </>\r\n                    )}\r\n                </div>\r\n            </div>\r\n          </Modal.Body>\r\n        </Modal>\r\n\r\n        <Modal show={isOpenBuy} onHide={handleCloseBuy}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title>Buy CSPD Token</Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body className=\"text-center\">\r\n              \r\n          <div className=\"outer bg-black absolute top-0 left-0 h-full w-full z-20 opacity-80\"></div>\r\n\r\n            <div className=\"absolute top-0 left-0 h-full w-full z-30 flex items-center justify-center\" onClick={() => handleCloseBuy()} >\r\n                <div className=\"inner max-w-screen-sm flex-grow  text-white  bg-gradient-to-br from-yellow-200 to-yellow-700 p-1 opacity-100 rounded-3xl\" onClick={ (e) => { e.stopPropagation(); }} >\r\n                    {account && (\r\n                        <>\r\n                            <div data-bs-dismiss=\"modal\" id=\"wallet-connect-metamask\" className=\"c-list border-b px-3 py-2 d-flex align-items-center\">\r\n                                <div className=\"text-white m-auto\"> Approve Successfully! </div>\r\n                            </div>\r\n                            <div data-bs-dismiss=\"modal\" id=\"wallet-connect-metamask\" className=\"c-list border-b px-3 py-2 d-flex align-items-center\">\r\n                                <div className=\"text-white m-auto\"> USD</div>\r\n                                <div>\r\n                                    <input className='form-control' type=\"number\" value={ 'buyUsdAmount' } disabled />\r\n                                </div>\r\n                            </div>\r\n                            <div data-bs-dismiss=\"modal\" id=\"wallet-connect-metamask\" className=\"c-list border-b px-3 py-2 d-flex align-items-center\">\r\n                                <div className=\"text-white m-auto\"> CSPD</div>\r\n                                <div>\r\n                                    <input className='form-control' type=\"text\" value={ 'buyCspdAmount' } disabled/>\r\n                                </div>\r\n                            </div>\r\n                            <div data-bs-dismiss=\"modal\" id=\"wallet-connect-metamask\" className=\"c-list border-b px-3 py-2 d-flex align-items-center cursor-pointer\">\r\n                                <button className=\"btn btn-wallet wallet-connected m-auto\" onClick={ handleBuy }> Buy </button>\r\n                            </div>\r\n                        </>\r\n                    )}\r\n                </div>\r\n            </div>\r\n          </Modal.Body>\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n  \r\n  export default BuyModal;"]},"metadata":{},"sourceType":"module"}